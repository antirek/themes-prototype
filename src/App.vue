<template>
  <div class="app">
    <header class="header">
      <h1>üé® –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —Å —Ç–µ–º–∏–∑–∞—Ü–∏–µ–π</h1>
      <p>–ö–∞—Ä—Ç–æ—á–∫–∏ —Å –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–º–∏ —Å–µ–ª–µ–∫—Ç–æ—Ä–∞–º–∏ —Ç–µ–º –∏ –Ω–æ–≤–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞ –ø—Ä–æ—Ñ–∏–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è!</p>
    </header>
    
    <main class="main">
      <div class="content">
        <div class="profile-section">
          <h2>üë§ –ö–∞—Ä—Ç–æ—á–∫–∞ –ø—Ä–æ—Ñ–∏–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</h2>
          <div class="profile-grid">
            <div class="profile-card-wrapper">
              <div class="theme-selector">
                <label class="theme-label">–¢–µ–º–∞ –∫–∞—Ä—Ç–æ—á–∫–∏ 1:</label>
                <select 
                  v-model="profileTheme1" 
                  class="theme-select"
                  @change="updateProfileTheme(1, profileTheme1)"
                >
                  <option value="light">–°–≤–µ—Ç–ª–∞—è</option>
                  <option value="dark">–¢–µ–º–Ω–∞—è</option>
                  <option value="green">–ó–µ–ª–µ–Ω–∞—è</option>
                  <option value="starwars">Star Wars</option>
                </select>
              </div>
              <UserProfileCard 
                :user-data="userData1" 
                :theme="profileTheme1"
              />
            </div>
            
            <div class="profile-card-wrapper">
              <div class="theme-selector">
                <label class="theme-label">–¢–µ–º–∞ –∫–∞—Ä—Ç–æ—á–∫–∏ 2:</label>
                <select 
                  v-model="profileTheme2" 
                  class="theme-select"
                  @change="updateProfileTheme(2, profileTheme2)"
                >
                  <option value="light">–°–≤–µ—Ç–ª–∞—è</option>
                  <option value="dark">–¢–µ–º–Ω–∞—è</option>
                  <option value="green">–ó–µ–ª–µ–Ω–∞—è</option>
                  <option value="starwars">Star Wars</option>
                </select>
              </div>
              <UserProfileCard 
                :user-data="userData2" 
                :theme="profileTheme2"
              />
            </div>
            
            <div class="profile-card-wrapper">
              <div class="theme-selector">
                <label class="theme-label">–¢–µ–º–∞ –∫–∞—Ä—Ç–æ—á–∫–∏ 3:</label>
                <select 
                  v-model="profileTheme3" 
                  class="theme-select"
                  @change="updateProfileTheme(3, profileTheme3)"
                >
                  <option value="light">–°–≤–µ—Ç–ª–∞—è</option>
                  <option value="dark">–¢–µ–º–Ω–∞—è</option>
                  <option value="green">–ó–µ–ª–µ–Ω–∞—è</option>
                  <option value="starwars">Star Wars</option>
                </select>
              </div>
              <UserProfileCard 
                :user-data="userData3" 
                :theme="profileTheme3"
              />
            </div>
          </div>
        </div>
        
        <div class="avatar-section">
          <h2>üë§ –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –∞–≤–∞—Ç–∞—Ä–∞</h2>
          <div class="avatar-grid">
            <div class="avatar-wrapper" :data-theme="avatarTheme1">
              <div class="theme-selector">
                <label class="theme-label">–¢–µ–º–∞ –∞–≤–∞—Ç–∞—Ä–∞ 1:</label>
                <select 
                  v-model="avatarTheme1" 
                  class="theme-select"
                >
                  <option value="light">–°–≤–µ—Ç–ª–∞—è</option>
                  <option value="dark">–¢–µ–º–Ω–∞—è</option>
                  <option value="green">–ó–µ–ª–µ–Ω–∞—è</option>
                  <option value="starwars">Star Wars</option>
                </select>
              </div>
              <UserAvatar 
                :src="userData1.avatar" 
                :alt="userData1.name"
              />
            </div>
            
            <div class="avatar-wrapper" :data-theme="avatarTheme2">
              <div class="theme-selector">
                <label class="theme-label">–¢–µ–º–∞ –∞–≤–∞—Ç–∞—Ä–∞ 2:</label>
                <select 
                  v-model="avatarTheme2" 
                  class="theme-select"
                >
                  <option value="light">–°–≤–µ—Ç–ª–∞—è</option>
                  <option value="dark">–¢–µ–º–Ω–∞—è</option>
                  <option value="green">–ó–µ–ª–µ–Ω–∞—è</option>
                  <option value="starwars">Star Wars</option>
                </select>
              </div>
              <UserAvatar 
                :src="userData2.avatar" 
                :alt="userData2.name"
              />
            </div>
            
            <div class="avatar-wrapper" :data-theme="avatarTheme3">
              <div class="theme-selector">
                <label class="theme-label">–¢–µ–º–∞ –∞–≤–∞—Ç–∞—Ä–∞ 3:</label>
                <select 
                  v-model="avatarTheme3" 
                  class="theme-select"
                >
                  <option value="light">–°–≤–µ—Ç–ª–∞—è</option>
                  <option value="dark">–¢–µ–º–Ω–∞—è</option>
                  <option value="green">–ó–µ–ª–µ–Ω–∞—è</option>
                  <option value="starwars">Star Wars</option>
                </select>
              </div>
              <UserAvatar 
                :src="userData3.avatar" 
                :alt="userData3.name"
              />
            </div>
            
            <div class="avatar-wrapper" :data-theme="avatarTheme4">
              <div class="theme-selector">
                <label class="theme-label">–ê–≤–∞—Ç–∞—Ä –±–µ–∑ —Ñ–æ—Ç–æ:</label>
                <select 
                  v-model="avatarTheme4" 
                  class="theme-select"
                >
                  <option value="light">–°–≤–µ—Ç–ª–∞—è</option>
                  <option value="dark">–¢–µ–º–Ω–∞—è</option>
                  <option value="green">–ó–µ–ª–µ–Ω–∞—è</option>
                  <option value="starwars">Star Wars</option>
                </select>
              </div>
              <UserAvatar />
            </div>
            
            <div class="avatar-wrapper" :data-theme="avatarTheme5">
              <div class="theme-selector">
                <label class="theme-label">–ê–≤–∞—Ç–∞—Ä —Å –æ—à–∏–±–∫–æ–π:</label>
                <select 
                  v-model="avatarTheme5" 
                  class="theme-select"
                >
                  <option value="light">–°–≤–µ—Ç–ª–∞—è</option>
                  <option value="dark">–¢–µ–º–Ω–∞—è</option>
                  <option value="green">–ó–µ–ª–µ–Ω–∞—è</option>
                  <option value="starwars">Star Wars</option>
                </select>
              </div>
              <UserAvatar 
                src="https://invalid-url-that-will-fail.com/avatar.jpg"
                alt="Broken avatar"
              />
            </div>
          </div>
        </div>
        
        <div class="avatar-icon-section">
          <h2>üé≠ –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è AvatarIcon –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞</h2>
          <div class="avatar-icon-grid">
            <div class="avatar-icon-wrapper">
              <h3>–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:</h3>
              <div class="avatar-icon-demo" data-theme="light">
                <AvatarIcon icon-type="default" />
              </div>
              <div class="avatar-icon-demo" data-theme="starwars">
                <AvatarIcon icon-type="starwars" />
              </div>
            </div>
            
            <div class="avatar-icon-wrapper">
              <h3>–ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ —É–∫–∞–∑–∞–Ω–∏–µ –∏–∫–æ–Ω–∫–∏ —á–µ—Ä–µ–∑ props:</h3>
              <div class="avatar-icon-demo">
                <AvatarIcon icon-type="default" />
              </div>
              <div class="avatar-icon-demo">
                <AvatarIcon icon-type="starwars" />
              </div>
            </div>
          </div>
        </div>
        
        <div class="cards-section">
          <h2>üìã –û–±—ã—á–Ω—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏</h2>
          <div class="cards-grid">
            <CardWithTheme 
              id="card-1" 
              :card-data="cardData1" 
            />
            <CardWithTheme 
              id="card-2" 
              :card-data="cardData2" 
            />
          </div>
        </div>
      </div>
    </main>
  </div>
</template>

<script setup lang="ts">
import { ref } from 'vue'
import CardWithTheme from './components/compounds/CardWithTheme/CardWithTheme.vue'
import UserProfileCard from './components/blocks/UserProfileCard/UserProfileCard.vue'
import UserAvatar from './components/elements/UserAvatar/UserAvatar.vue'
import { AvatarIcon } from './components/atoms/AvatarIcon'
import type { CardData } from './types/card'
import type { ThemeName } from './types/theme'

const cardData1 = ref<CardData>({
  header: {
    text: '–ü–µ—Ä–≤–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞'
  },
  body: {
    text: '–≠—Ç–æ –ø–µ—Ä–≤–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞ —Å –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–º —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–º —Ç–µ–º—ã. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —Ç–µ–º—É –∏ –ø–æ—Å–º–æ—Ç—Ä–∏—Ç–µ, –∫–∞–∫ –æ–Ω–∞ –∏–∑–º–µ–Ω–∏—Ç—Å—è!'
  },
  footer: {
    text: '–ö–∞—Ä—Ç–æ—á–∫–∞ #1 - Vue 3 + TypeScript + SCSS'
  }
})

const cardData2 = ref<CardData>({
  header: {
    text: '–í—Ç–æ—Ä–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞'
  },
  body: {
    text: '–≠—Ç–æ –≤—Ç–æ—Ä–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞ —Å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–º —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–º —Ç–µ–º—ã. –ö–∞–∂–¥–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞ –º–æ–∂–µ—Ç –∏–º–µ—Ç—å —Å–≤–æ—é —Ç–µ–º—É –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç –¥—Ä—É–≥–∏—Ö!'
  },
  footer: {
    text: '–ö–∞—Ä—Ç–æ—á–∫–∞ #2 - –ú–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞'
  }
})

const userData1 = ref({
  name: '–ê–Ω–Ω–∞ –ü–µ—Ç—Ä–æ–≤–∞',
  phone: '+7 (999) 123-45-67',
  description: 'Frontend —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ —Å 5-–ª–µ—Ç–Ω–∏–º –æ–ø—ã—Ç–æ–º —Ä–∞–±–æ—Ç—ã —Å Vue.js, React –∏ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –≤–µ–±-—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è–º–∏.',
  avatar: 'https://images.unsplash.com/photo-1494790108755-2616b612b786?w=150&h=150&fit=crop&crop=face',
  status: '–î–æ—Å—Ç—É–ø–Ω–∞ –¥–ª—è –ø—Ä–æ–µ–∫—Ç–æ–≤'
})

const userData2 = ref({
  name: '–ú–∏—Ö–∞–∏–ª –°–∏–¥–æ—Ä–æ–≤',
  phone: '+7 (999) 987-65-43',
  description: 'UX/UI –¥–∏–∑–∞–π–Ω–µ—Ä, —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä—É—é—â–∏–π—Å—è –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–∏ –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω—ã—Ö –∏ –∫—Ä–∞—Å–∏–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤.',
  avatar: 'https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=150&h=150&fit=crop&crop=face',
  status: '–ó–∞–Ω—è—Ç –≤ –ø—Ä–æ–µ–∫—Ç–µ'
})

const userData3 = ref({
  name: '–ï–ª–µ–Ω–∞ –ö–æ–∑–ª–æ–≤–∞',
  phone: '+7 (999) 555-12-34',
  description: 'Product Manager —Å –æ–ø—ã—Ç–æ–º —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è digital-–ø—Ä–æ–¥—É–∫—Ç–∞–º–∏ –∏ –∫–æ–º–∞–Ω–¥–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤.',
  avatar: 'https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=150&h=150&fit=crop&crop=face',
  status: '–û—Ç–∫—Ä—ã—Ç–∞ –∫ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è–º'
})

// –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è —Ç–µ–º –∫–∞—Ä—Ç–æ—á–µ–∫ –ø—Ä–æ—Ñ–∏–ª—è
const profileTheme1 = ref<ThemeName>('light')
const profileTheme2 = ref<ThemeName>('dark')
const profileTheme3 = ref<ThemeName>('green')

// –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è —Ç–µ–º –∞–≤–∞—Ç–∞—Ä–æ–≤
const avatarTheme1 = ref<ThemeName>('light')
const avatarTheme2 = ref<ThemeName>('dark')
const avatarTheme3 = ref<ThemeName>('green')
const avatarTheme4 = ref<ThemeName>('light')
const avatarTheme5 = ref<ThemeName>('dark')

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ç–µ–º—ã –∫–∞—Ä—Ç–æ—á–∫–∏ –ø—Ä–æ—Ñ–∏–ª—è
const updateProfileTheme = (cardNumber: number, theme: ThemeName) => {
  // –õ–æ–≥–∏–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ç–µ–º—ã (–ø–æ–∫–∞ –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞)
}
</script>

<style scoped lang="scss">
.app {
  min-height: 100vh;
  padding: 1.5rem;
  background: var(--bg-primary);
  color: var(--text-primary);
  transition: background-color 0.3s ease, color 0.3s ease;
  
  @media (max-width: 576px) {
    padding: 0.75rem;
  }
}

.header {
  text-align: center;
  margin-bottom: 3rem;
  color: var(--text-primary);
  
  h1 {
    font-size: 2.5rem;
    margin-bottom: 0.75rem;
    text-shadow: var(--shadow-lg);
    
    @media (max-width: 576px) {
      font-size: 2rem;
    }
  }
  
  p {
    font-size: 1.25rem;
    opacity: 0.8;
  }
}

.main {
  max-width: 800px;
  margin: 0 auto;
}

.content {
  display: flex;
  flex-direction: column;
  gap: 3rem;
  width: 100%;
}

.cards-section,
.profile-section,
.avatar-section {
  h2 {
    text-align: center;
    margin-bottom: 2rem;
    font-size: 1.75rem;
    color: var(--text-primary);
    
    @media (max-width: 576px) {
      font-size: 1.5rem;
      margin-bottom: 1.5rem;
    }
  }
}

.cards-grid {
  display: flex;
  flex-direction: row;
  gap: 2rem;
  align-items: flex-start;
  justify-content: center;
  flex-wrap: nowrap;
  width: 100%;
  
  @media (max-width: 1200px) {
    gap: 1.5rem;
  }
  
  @media (max-width: 768px) {
    flex-direction: column;
    gap: 1.5rem;
    align-items: center;
    flex-wrap: wrap;
  }
}

.profile-grid {
  display: flex;
  flex-direction: row;
  gap: 3rem;
  align-items: flex-start;
  justify-content: center;
  flex-wrap: nowrap;
  width: 100%;
  max-width: 1400px;
  margin: 0 auto;
  
  @media (max-width: 1400px) {
    gap: 2.5rem;
    max-width: 1200px;
  }
  
  @media (max-width: 1200px) {
    gap: 2rem;
    max-width: 1000px;
  }
  
  @media (max-width: 768px) {
    flex-direction: column;
    gap: 1.5rem;
    align-items: center;
    max-width: 100%;
  }
}

.avatar-grid {
  display: flex;
  flex-direction: row;
  gap: 3rem;
  align-items: flex-start;
  justify-content: center;
  flex-wrap: wrap;
  width: 100%;
  max-width: 1400px;
  margin: 0 auto;
  
  @media (max-width: 1400px) {
    gap: 2.5rem;
    max-width: 1200px;
  }
  
  @media (max-width: 1200px) {
    gap: 2rem;
    max-width: 1000px;
  }
  
  @media (max-width: 768px) {
    flex-direction: column;
    gap: 1.5rem;
    align-items: center;
    max-width: 100%;
  }
}

.avatar-icon-section {
  h2 {
    text-align: center;
    margin-bottom: 2rem;
    font-size: 1.75rem;
    color: var(--text-primary);
    
    @media (max-width: 576px) {
      font-size: 1.5rem;
      margin-bottom: 1.5rem;
    }
  }
}

.avatar-icon-grid {
  display: flex;
  flex-direction: row;
  gap: 4rem;
  align-items: flex-start;
  justify-content: center;
  flex-wrap: wrap;
  width: 100%;
  max-width: 1200px;
  margin: 0 auto;
  
  @media (max-width: 1200px) {
    gap: 3rem;
  }
  
  @media (max-width: 768px) {
    flex-direction: column;
    gap: 2rem;
    align-items: center;
  }
}

.avatar-icon-wrapper {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 1.5rem;
  
  h3 {
    font-size: 1.25rem;
    color: var(--text-primary);
    margin: 0;
    text-align: center;
  }
}

.avatar-icon-demo {
  width: 120px;
  height: 120px;
  border: 2px solid var(--thepro-theme-color-border);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  background: var(--thepro-theme-color-bg-secondary);
  box-shadow: var(--thepro-theme-shadow-sm);
  transition: all var(--thepro-theme-transition);
  
  &:hover {
    transform: scale(1.05);
    box-shadow: var(--thepro-theme-shadow-md);
  }
  
  .avatar-icon {
    width: 60%;
    height: 60%;
  }
}

.profile-card-wrapper,
.avatar-wrapper {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 1rem;
  
  /* –†–∞–∑–º–µ—Ä—ã –∞–≤–∞—Ç–∞—Ä–æ–≤ –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ */
  &:nth-child(1) .user-avatar {
    --thepro-useravatar-size: 140px;
    --thepro-useravatar-size-large: 130px;
    --thepro-useravatar-size-medium: 120px;
    --thepro-useravatar-size-mobile: 110px;
    --thepro-useravatar-size-small: 100px;
  }
  
  &:nth-child(2) .user-avatar {
    --thepro-useravatar-size: 120px;
    --thepro-useravatar-size-large: 110px;
    --thepro-useravatar-size-medium: 100px;
    --thepro-useravatar-size-mobile: 90px;
    --thepro-useravatar-size-small: 80px;
  }
  
  &:nth-child(3) .user-avatar {
    --thepro-useravatar-size: 100px;
    --thepro-useravatar-size-large: 90px;
    --thepro-useravatar-size-medium: 80px;
    --thepro-useravatar-size-mobile: 70px;
    --thepro-useravatar-size-small: 60px;
  }
  
  &:nth-child(4) .user-avatar {
    --thepro-useravatar-size: 100px;
    --thepro-useravatar-size-large: 90px;
    --thepro-useravatar-size-medium: 80px;
    --thepro-useravatar-size-mobile: 70px;
    --thepro-useravatar-size-small: 60px;
  }
  
  &:nth-child(5) .user-avatar {
    --thepro-useravatar-size: 100px;
    --thepro-useravatar-size-large: 90px;
    --thepro-useravatar-size-medium: 80px;
    --thepro-useravatar-size-mobile: 70px;
    --thepro-useravatar-size-small: 60px;
  }
}

.theme-selector {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 0.5rem;
  padding: 0.75rem;
  background: var(--thepro-theme-color-bg-secondary);
  border: 1px solid var(--thepro-theme-color-border);
  border-radius: 8px;
  box-shadow: var(--thepro-theme-shadow-sm);
  min-width: 200px;
}

.theme-label {
  font-family: var(--thepro-theme-font-family-secondary);
  font-weight: 500;
  color: var(--thepro-theme-color-text);
  font-size: var(--thepro-theme-font-size-sm);
  margin: 0;
}

.theme-select {
  width: 100%;
  padding: 0.5rem 0.75rem;
  border: 1px solid var(--thepro-theme-color-border);
  border-radius: 4px;
  background: var(--thepro-theme-color-bg);
  color: var(--thepro-theme-color-text);
  font-family: var(--thepro-theme-font-family-primary);
  font-size: var(--thepro-theme-font-size-sm);
  cursor: pointer;
  transition: all var(--thepro-theme-transition);
}

.theme-select:focus {
  outline: none;
  border-color: var(--thepro-theme-color-primary);
  box-shadow: 0 0 0 2px rgba(52, 152, 219, 0.2);
}

.theme-select:hover {
  border-color: var(--thepro-theme-color-primary);
}

.theme-select option {
  background: var(--thepro-theme-color-bg);
  color: var(--thepro-theme-color-text);
}
</style>
