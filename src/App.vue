<template>
  <div class="app">
    <header class="header">
      <h1>üé® –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ç–æ—Ä —Ç–µ–º</h1>
      <p>–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –≤–Ω–µ—à–Ω–∏–π –≤–∏–¥ –≤–∞—à–∏—Ö –∫–∞—Ä—Ç–æ—á–µ–∫</p>
    </header>
    
    <main class="main">
      <div class="customizer-panel">
        <h2>–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–∞—Ä—Ç–æ—á–∫–∏</h2>
        
        <!-- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∑–∞–≥–æ–ª–æ–≤–∫–∞ -->
        <section class="section">
          <h3>–ó–∞–≥–æ–ª–æ–≤–æ–∫</h3>
          <div class="controls">
            <div class="control-group">
              <label>–¢–µ–∫—Å—Ç –∑–∞–≥–æ–ª–æ–≤–∫–∞:</label>
              <input 
                v-model="cardData.header.text" 
                type="text" 
                placeholder="–í–≤–µ–¥–∏—Ç–µ –∑–∞–≥–æ–ª–æ–≤–æ–∫"
                class="input"
              >
            </div>
            <div class="control-group">
              <label>–¶–≤–µ—Ç —Ç–µ–∫—Å—Ç–∞:</label>
              <input 
                v-model="cardData.header.textColor" 
                type="color" 
                class="color-input"
              >
            </div>
            <div class="control-group">
              <label>–†–∞–∑–º–µ—Ä —à—Ä–∏—Ñ—Ç–∞:</label>
              <input 
                v-model="cardData.header.fontSize" 
                type="range" 
                min="12" 
                max="48" 
                class="range-input"
              >
              <span>{{ cardData.header.fontSize }}px</span>
            </div>
            <div class="control-group">
              <label>–ñ–∏—Ä–Ω—ã–π —à—Ä–∏—Ñ—Ç:</label>
              <input 
                v-model="cardData.header.bold" 
                type="checkbox" 
                class="checkbox"
              >
            </div>
          </div>
        </section>

        <!-- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ç–µ–ª–∞ -->
        <section class="section">
          <h3>–¢–µ–ª–æ –∫–∞—Ä—Ç–æ—á–∫–∏</h3>
          <div class="controls">
            <div class="control-group">
              <label>–¢–µ–∫—Å—Ç —Ç–µ–ª–∞:</label>
              <textarea 
                v-model="cardData.body.text" 
                placeholder="–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç —Ç–µ–ª–∞ –∫–∞—Ä—Ç–æ—á–∫–∏"
                class="textarea"
                rows="4"
              ></textarea>
            </div>
            <div class="control-group">
              <label>–¶–≤–µ—Ç —Ç–µ–∫—Å—Ç–∞:</label>
              <input 
                v-model="cardData.body.textColor" 
                type="color" 
                class="color-input"
              >
            </div>
            <div class="control-group">
              <label>–†–∞–∑–º–µ—Ä —à—Ä–∏—Ñ—Ç–∞:</label>
              <input 
                v-model="cardData.body.fontSize" 
                type="range" 
                min="10" 
                max="24" 
                class="range-input"
              >
              <span>{{ cardData.body.fontSize }}px</span>
            </div>
            <div class="control-group">
              <label>–¶–≤–µ—Ç —Ñ–æ–Ω–∞:</label>
              <input 
                v-model="cardData.body.backgroundColor" 
                type="color" 
                class="color-input"
              >
            </div>
          </div>
        </section>

        <!-- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –Ω–∏–∑–∞ -->
        <section class="section">
          <h3>–ù–∏–∑ –∫–∞—Ä—Ç–æ—á–∫–∏</h3>
          <div class="controls">
            <div class="control-group">
              <label>–¢–µ–∫—Å—Ç –Ω–∏–∑–∞:</label>
              <input 
                v-model="cardData.footer.text" 
                type="text" 
                placeholder="–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç –Ω–∏–∑–∞"
                class="input"
              >
            </div>
            <div class="control-group">
              <label>–¶–≤–µ—Ç —Ç–µ–∫—Å—Ç–∞:</label>
              <input 
                v-model="cardData.footer.textColor" 
                type="color" 
                class="color-input"
              >
            </div>
            <div class="control-group">
              <label>–†–∞–∑–º–µ—Ä —à—Ä–∏—Ñ—Ç–∞:</label>
              <input 
                v-model="cardData.footer.fontSize" 
                type="range" 
                min="10" 
                max="20" 
                class="range-input"
              >
              <span>{{ cardData.footer.fontSize }}px</span>
            </div>
            <div class="control-group">
              <label>–í—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ:</label>
              <select v-model="cardData.footer.align" class="select">
                <option value="left">–ü–æ –ª–µ–≤–æ–º—É –∫—Ä–∞—é</option>
                <option value="center">–ü–æ —Ü–µ–Ω—Ç—Ä—É</option>
                <option value="right">–ü–æ –ø—Ä–∞–≤–æ–º—É –∫—Ä–∞—é</option>
              </select>
            </div>
          </div>
        </section>

        <!-- –û–±—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–∞—Ä—Ç–æ—á–∫–∏ -->
        <section class="section">
          <h3>–û–±—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</h3>
          <div class="controls">
            <div class="control-group">
              <label>–®–∏—Ä–∏–Ω–∞ –∫–∞—Ä—Ç–æ—á–∫–∏:</label>
              <input 
                v-model="cardData.width" 
                type="range" 
                min="200" 
                max="600" 
                class="range-input"
              >
              <span>{{ cardData.width }}px</span>
            </div>
            <div class="control-group">
              <label>–¶–≤–µ—Ç —Ñ–æ–Ω–∞ –∫–∞—Ä—Ç–æ—á–∫–∏:</label>
              <input 
                v-model="cardData.backgroundColor" 
                type="color" 
                class="color-input"
              >
            </div>
            <div class="control-group">
              <label>–¢–µ–Ω—å:</label>
              <input 
                v-model="cardData.shadow" 
                type="checkbox" 
                class="checkbox"
              >
            </div>
            <div class="control-group">
              <label>–°–∫—Ä—É–≥–ª–µ–Ω–∏–µ —É–≥–ª–æ–≤:</label>
              <input 
                v-model="cardData.borderRadius" 
                type="range" 
                min="0" 
                max="20" 
                class="range-input"
              >
              <span>{{ cardData.borderRadius }}px</span>
            </div>
          </div>
        </section>
      </div>

      <div class="preview-panel">
        <h2>–ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä</h2>
        <CardPreview :card-data="cardData" />
      </div>
    </main>
  </div>
</template>

<script setup lang="ts">
import { ref } from 'vue'
import CardPreview from './components/CardPreview/CardPreview.vue'
import type { CardData } from '@/types/card'

const cardData = ref<CardData>({
  header: {
    text: '–ó–∞–≥–æ–ª–æ–≤–æ–∫ –∫–∞—Ä—Ç–æ—á–∫–∏',
    textColor: '#2c3e50',
    fontSize: 24,
    bold: true
  },
  body: {
    text: '–≠—Ç–æ –ø—Ä–∏–º–µ—Ä —Ç–µ–∫—Å—Ç–∞ —Ç–µ–ª–∞ –∫–∞—Ä—Ç–æ—á–∫–∏. –ó–¥–µ—Å—å –º–æ–∂–µ—Ç –±—ã—Ç—å —Ä–∞–∑–º–µ—â–µ–Ω –ª—é–±–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π –≤—ã —Ö–æ—Ç–∏—Ç–µ –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—å.',
    textColor: '#34495e',
    fontSize: 16,
    backgroundColor: '#f8f9fa'
  },
  footer: {
    text: '–ü–æ–¥–ø–∏—Å—å –∏–ª–∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è',
    textColor: '#7f8c8d',
    fontSize: 14,
    align: 'left'
  },
  width: 400,
  backgroundColor: '#ffffff',
  shadow: true,
  borderRadius: 8
})
</script>

<style scoped lang="scss">
@import '@/styles/variables';
@import '@/styles/mixins';

.app {
  min-height: 100vh;
  padding: $spacing-lg;
  
  @include respond-to(sm) {
    padding: $spacing-sm;
  }
}

.header {
  text-align: center;
  margin-bottom: $spacing-3xl;
  color: white;
  
  h1 {
    font-size: $font-size-4xl;
    margin-bottom: $spacing-sm;
    text-shadow: $shadow-lg;
    
    @include respond-to(sm) {
      font-size: $font-size-3xl;
    }
  }
  
  p {
    font-size: $font-size-xl;
    opacity: 0.9;
  }
}

.main {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: $spacing-3xl;
  max-width: 1400px;
  margin: 0 auto;
  
  @include respond-to(lg) {
    grid-template-columns: 1fr;
    gap: $spacing-lg;
  }
}

.customizer-panel, .preview-panel {
  @include card-base;
  padding: $spacing-2xl;
  
  @include respond-to(md) {
    padding: $spacing-lg;
  }
  
  h2 {
    color: $secondary-color;
    margin-bottom: $spacing-xl;
    font-size: $font-size-2xl;
    border-bottom: 2px solid $primary-color;
    padding-bottom: $spacing-sm;
  }
}

.section {
  margin-bottom: $spacing-2xl;
  padding: $spacing-lg;
  background: $light-color;
  border-radius: $border-radius-md;
  border-left: 4px solid $primary-color;
  
  h3 {
    color: $secondary-color;
    margin-bottom: $spacing-md;
    font-size: $font-size-xl;
  }
}

.controls {
  @include flex(column);
  gap: $spacing-md;
}

.control-group {
  @include flex(row, flex-start, center);
  gap: $spacing-sm;
  flex-wrap: wrap;
  
  @include respond-to(sm) {
    flex-direction: column;
    align-items: flex-start;
  }
  
  label {
    min-width: 120px;
    font-weight: 500;
    color: $secondary-color;
    
    @include respond-to(sm) {
      min-width: auto;
    }
  }
}

.input, .textarea, .select {
  flex: 1;
  padding: $spacing-sm $spacing-md;
  border: 2px solid #ddd;
  border-radius: $border-radius-sm;
  font-size: $font-size-sm;
  transition: border-color $transition-base;
  
  &:focus {
    outline: none;
    border-color: $primary-color;
  }
}

.textarea {
  resize: vertical;
  min-height: 80px;
}

.color-input {
  width: 50px;
  height: 40px;
  border: none;
  border-radius: $border-radius-sm;
  cursor: pointer;
}

.range-input {
  flex: 1;
  height: 6px;
  border-radius: 3px;
  background: #ddd;
  outline: none;
  cursor: pointer;
}

.checkbox {
  width: 18px;
  height: 18px;
  cursor: pointer;
}

.preview-panel {
  @include flex(column, flex-start, center);
}
</style>
